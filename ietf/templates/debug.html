{# Copyright The IETF Trust 2007, All Rights Reserved #}
{% if debug %}
  {% load ietf_filters %}
  {% load future %}

  <div id="debug" style="clear: left;">
    <h3>SQL Queries</h3>
    <p>
      {{ sql_queries|length }} queries ({{ sql_queries|timesum }}s)
      {% if sql_queries|length != 0 %}
        <a class="btn btn-default btn-sm" onclick="document.getElementById('debug-query-table').style.display='';">Show</a>
      {% endif %}
    </p>
    <table class="table table-condensed table-striped" id="debug-query-table" style="display: none;">
      <col width="1"></col>
      <col></col>
      <col width="1"></col>
      <thead>
        <tr>
	  <th scope="col">#</th>
	  <th scope="col">SQL</th>
	  <th scope="col">Time</th>
        </tr>
      </thead>
      <tbody>
        {% for query in sql_queries %}
          <tr>
	    <td>{{ forloop.counter }}</td>
	    <td>{{ query.sql|expand_comma|escape }}</td>
	    <td>{{ query.time }}</td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
{% endif %}
