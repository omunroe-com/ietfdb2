{# Copyright The IETF Trust 2007, All Rights Reserved #}
{% load myifchanged %}
	<tr bgcolor="#{% myifchanged match.ballot_id %}{% cycle F8D6F8,E2AFE2 as ballotcolor %}{% else %}{% if match.synthetic %}{% cycle ballotcolor %}{% else %}{% cyclevalue ballotcolor %}{% endif %}{% endmyifchanged %}">
	{% if match.synthetic %}
	<td>&nbsp;</td>
	{% else %}
        <!-- this form element technically belongs inside the <td>
             but that actually changes the visible spacing in most
             browsers, so we let layout concerns make us write
             invalid HTML. -->
        <form method="GET" action="{% url ietf.idtracker.views.view_id match.document.filename %}"><td><input type="submit" value="DETAIL"></td></form>
	{% endif %}
	<td nowrap>{% if match.primary_flag %}<li>{% else %}<dd>{% endif %}{{ match.document.filename_with_link }} ({{ match.document.intended_status }})
	    {% ifequal match.document.status.status "Replaced" %}
	      <br>&nbsp;&nbsp;&nbsp;&nbsp;Replaced by
	      {% if match.document.replaced_by.idinternal %}
		<a href="{% url ietf.idtracker.views.search %}?search_filename={{ match.document.replaced_by.filename }}">
	      {% endif %}
	      {{ match.document.replaced_by.filename }}
	      {% if match.document.replaced_by.idinternal %}
		</a>
	      {% endif %}
	    {% endifequal %}
	    {% if match.document.replaces_set.count %}
	      <br>&nbsp;&nbsp;&nbsp;&nbsp;Replaces
	      {% for replaces in match.document.replaces_set.all %}
		{% if replaces.idinternal %}
		  <a href="{% url ietf.idtracker.views.search %}?search_filename={{ replaces.filename }}">
		{% endif %}
		{{ replaces.filename }}{% if replaces.idinternal %}</a>{% endif %}{% if not forloop.last %},{% endif %}
	      {% endfor %}
	    {% endif %}
        </td>
	<td>{{ match.document.revision_display }}</td>
	<td>{{ match.job_owner }}</td>
	<td>{% firstof match.status_date "" %}</td>
	<td>{{ match.event_date }}</td>
	</tr>
