{% extends "nomcom/nomcom_private_base.html" %}

{% load bootstrap3 %}

{% block pagehead %}
  <link rel="stylesheet" href="/css/lib/datepicker3.css"></link>
{% endblock %}

{% block subtitle %} - Settings{% endblock %}

{% block nomcom_content %}
  <h2>Settings</h2>

  {% if message %}
    <div class="alert alert-{{ message.0 }}">{{ message.1 }}</div>
  {% endif %}

  {% bootstrap_messages %}

  <form enctype="multipart/form-data" role="form" method="post">
    {% csrf_token %}
    {% bootstrap_form form %}

    <h3>Reminder Dates</h3>

    <p>If the "reminder interval" field of nomcom isn't filled, the following dates will be used to send reminders.</p>

    <p>The valid format: <strong>YYYY-MM-DD</strong></p>

    {% bootstrap_formset formset %}

    {% buttons %}
      <input class="btn btn-primary" type="submit" value="Save">
    {% endbuttons %}
  </form>

  <h2>Delete Nomcom</h2>

  <p>
    <a class="btn btn-danger" href="{% url "nomcom_delete_nomcom" year %}" class="deletelink">Delete NomCom</a>
  </p>

{% endblock %}

{% block js %}
  <script src="/js/lib/bootstrap-datepicker.js"></script>
  <script>
   $('input[id*="reminderdates"][type="text"]').datepicker({
       format: "yyyy-mm-dd",
       todayBtn: "linked",
       todayHighlight: true
   }).wrap('<div class="input-group"></div>').parent().prepend('<span class="input-group-addon"><span class="fa fa-calendar"></span></span>');
  </script>
{% endblock %}


